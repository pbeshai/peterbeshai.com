<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a6cf05b5abeb1d21fb12.css">/* ! tailwindcss v2.1.2 | MIT License | https://tailwindcss.com */

/*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */html{-moz-tab-size:4;-o-tab-size:4;tab-size:4;line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}hr{height:0;color:inherit}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],button{-webkit-appearance:button}legend{padding:0}progress{vertical-align:baseline}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:IBM Plex Sans,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{font-family:inherit;line-height:inherit}*,:after,:before{box-sizing:border-box;border:0 solid #e5e7eb}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input:-ms-input-placeholder,textarea:-ms-input-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,ui-monospace,SFMono-Regular,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{font-size:1rem;line-height:1.5rem;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));font-family:IBM Plex Sans,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5;--tw-text-opacity:1;color:rgba(17,24,39,var(--tw-text-opacity));font-kerning:normal;font-feature-settings:"kern","liga","clig","calt";font-variant-ligatures:none;font-variant:none}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.prose{color:#374151;max-width:65ch}.prose [class~=lead]{color:#4b5563;font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose a{color:#111827;text-decoration:underline;font-weight:500}.prose strong{color:#111827;font-weight:600}.prose ol[type=A]{--list-counter-style:upper-alpha}.prose ol[type=a]{--list-counter-style:lower-alpha}.prose ol[type=I]{--list-counter-style:upper-roman}.prose ol[type=i]{--list-counter-style:lower-roman}.prose ol[type="1"]{--list-counter-style:decimal}.prose ol>li{position:relative;padding-left:1.75em}.prose ol>li:before{content:counter(list-item,var(--list-counter-style,decimal)) ".";position:absolute;font-weight:400;color:#6b7280;left:0}.prose ul>li{position:relative;padding-left:1.75em}.prose ul>li:before{content:"";position:absolute;background-color:#d1d5db;border-radius:50%;width:.375em;height:.375em;top:.6875em;left:.25em}.prose hr{border-color:#e5e7eb;border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose blockquote{font-weight:500;font-style:italic;color:#111827;border-left-width:.25rem;border-left-color:#e5e7eb;quotes:"\201C""\201D""\2018""\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose blockquote p:first-of-type:before{content:open-quote}.prose blockquote p:last-of-type:after{content:close-quote}.prose h1{color:#111827;font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose h2{color:#111827;font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose h3{font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose h3,.prose h4{color:#111827;font-weight:600}.prose h4{margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose figure figcaption{color:#6b7280;font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose code{color:#111827;font-weight:600;font-size:.875em}.prose code:after,.prose code:before{content:"`"}.prose a code{color:#111827}.prose pre{color:#e5e7eb;background-color:#1f2937;overflow-x:auto;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding:.8571429em 1.1428571em}.prose pre code{background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:400;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose pre code:after,.prose pre code:before{content:none}.prose table{width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose thead{color:#111827;font-weight:600;border-bottom-width:1px;border-bottom-color:#d1d5db}.prose thead th{vertical-align:bottom;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose tbody tr{border-bottom-width:1px;border-bottom-color:#e5e7eb}.prose tbody tr:last-child{border-bottom-width:0}.prose tbody td{vertical-align:top;padding:.5714286em}.prose{font-size:1rem;line-height:1.75}.prose p{margin-top:1.25em;margin-bottom:1.25em}.prose figure,.prose img,.prose video{margin-top:2em;margin-bottom:2em}.prose figure>*{margin-top:0;margin-bottom:0}.prose h2 code{font-size:.875em}.prose h3 code{font-size:.9em}.prose ol,.prose ul{margin-top:1.25em;margin-bottom:1.25em}.prose li{margin-top:.5em;margin-bottom:.5em}.prose>ul>li p{margin-top:.75em;margin-bottom:.75em}.prose>ul>li>:first-child{margin-top:1.25em}.prose>ul>li>:last-child{margin-bottom:1.25em}.prose>ol>li>:first-child{margin-top:1.25em}.prose>ol>li>:last-child{margin-bottom:1.25em}.prose ol ol,.prose ol ul,.prose ul ol,.prose ul ul{margin-top:.75em;margin-bottom:.75em}.prose h2+*,.prose h3+*,.prose h4+*,.prose hr+*{margin-top:0}.prose thead th:first-child{padding-left:0}.prose thead th:last-child{padding-right:0}.prose tbody td:first-child{padding-left:0}.prose tbody td:last-child{padding-right:0}.prose>:first-child{margin-top:0}.prose>:last-child{margin-bottom:0}.bg-black{--tw-bg-opacity:1;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.rounded-lg{border-radius:.5rem}.border{border-width:1px}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.hidden{display:none}.font-semibold{font-weight:600}.font-bold{font-weight:700}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-2xl{font-size:1.5rem;line-height:2rem}.leading-loose{line-height:2}.m-1{margin:.25rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-4{margin-bottom:1rem}.mt-8{margin-top:2rem}.mb-12{margin-bottom:3rem}.max-w-md{max-width:28rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.pt-8{padding-top:2rem}.pb-12{padding-bottom:3rem}.fixed{position:fixed}.absolute{position:absolute}.resize{resize:both}*{--tw-shadow:0 0 transparent;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,0.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent}.text-white{--tw-text-opacity:1;color:rgba(255,255,255,var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgba(55,65,81,var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgba(31,41,55,var(--tw-text-opacity))}.text-pink-400{--tw-text-opacity:1;color:rgba(244,114,182,var(--tw-text-opacity))}.text-cyan-500{--tw-text-opacity:1;color:rgba(6,182,212,var(--tw-text-opacity))}.uppercase{text-transform:uppercase}.visible{visibility:visible}.w-1{width:.25rem}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}.filter{--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert:invert(100%)}.funky-underline{display:inline-block;position:relative}.funky-underline:before{--underline-color:#22d3ee;position:absolute;bottom:-1px;left:-2px;right:-4px;content:"";height:4px;border-radius:99999px;background:var(--underline-color);transform:rotate(-2deg)}:root{--gray-50:#f9fafb;--gray-100:#f3f4f6;--gray-200:#e5e7eb;--gray-300:#d1d5db;--gray-400:#9ca3af;--gray-500:#6b7280;--gray-600:#4b5563;--gray-700:#374151;--gray-800:#1f2937;--gray-900:#111827;--cyan-400:#22d3ee;--cyan-500:#06b6d4}.prose a{text-decoration:none}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:.92em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:16px 0 32px;overflow:auto;border:1px solid var(--gray-200);background:var(--gray-50);border-radius:4px}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:none}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.24.84"/><title data-react-helmet="true">Animating points on maps with deck.gl - Peter Beshai</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,400i,500,600,700" rel="stylesheet"/><meta data-react-helmet="true" name="description" content="Learn how to animate points on maps using Uber&#x27;s deck.gl library with the built-in transition support and custom shaders."/><meta data-react-helmet="true" name="twitter:description" content="Learn how to animate points on maps using Uber&#x27;s deck.gl library with the built-in transition support and custom shaders."/><meta data-react-helmet="true" property="og:description" content="Learn how to animate points on maps using Uber&#x27;s deck.gl library with the built-in transition support and custom shaders."/><meta data-react-helmet="true" name="keywords" content="dataviz, data visualization, creative coding, generative art, nba, basketball"/><meta data-react-helmet="true" name="twitter:site" content="@pbesh"/><meta data-react-helmet="true" name="twitter:creator" content="@pbesh"/><meta data-react-helmet="true" property="og:title" content="Animating points on maps with deck.gl"/><meta data-react-helmet="true" property="twitter:title" content="Animating points on maps with deck.gl"/><meta data-react-helmet="true" property="og:url" content="https://peterbeshai.com/blog/2019-08-10-deckgl-point-animation/"/><meta data-react-helmet="true" property="og:image" content="https://peterbeshai.com/static/d5256590c6affd3f1a081b84e24838a0/35c24/preview.png"/><meta data-react-helmet="true" name="twitter:image" content="https://peterbeshai.com/static/d5256590c6affd3f1a081b84e24838a0/35c24/preview.png"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><link rel="icon" href="/favicon-32x32.png?v=8eada2f2c54a980a0d0d715a284fca9b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#000000"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=8eada2f2c54a980a0d0d715a284fca9b"/><style data-styled="dgrgPo bRzELH lcczCA gofAlC krNbLw liYjay cgJpCM hRIHo hJIQXL eiraze iZTvUI gQsBqH" data-styled-version="4.4.1">
/* sc-component-id: core__Box-eqpeba-0 */
.lcczCA{margin-left:auto;margin-right:auto;padding:16px;max-width:65ch;}.gofAlC{margin-top:128px;}.krNbLw{margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:64px;padding-bottom:64px;}
/* sc-component-id: core__Flex-eqpeba-1 */
.dgrgPo{margin-top:16px;margin-bottom:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: core__Text-eqpeba-2 */
.gQsBqH{text-align:center;}
/* sc-component-id: core__Header-eqpeba-3 */
.liYjay{margin:0px;margin-bottom:8px;font-size:27px;font-family:'IBM Plex Sans',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;color:#1f2937;font-family:'IBM Plex Sans',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:bold;line-height:1.15;-webkit-letter-spacing:-0.01em;-moz-letter-spacing:-0.01em;-ms-letter-spacing:-0.01em;letter-spacing:-0.01em;}
/* sc-component-id: core__StyledLink-eqpeba-5 */
.eiraze{color:#374151;border-bottom:2px solid #e5e7eb;-webkit-text-decoration:none;text-decoration:none;background:transparent;-webkit-transition:0.2s background linear,0.2s border-color linear;transition:0.2s background linear,0.2s border-color linear;} .eiraze:hover{color:#1f2937;background:#e3fafc;border-color:#99e9f2;}
/* sc-component-id: core__Image-eqpeba-7 */
.iZTvUI{margin:0px;margin-left:auto;margin-right:auto;display:block;max-width:100%;height:auto;}
/* sc-component-id: core__InlineList-eqpeba-11 */
.cgJpCM{margin-bottom:8px;color:#4b5563;list-style-type:none;list-style-type:none;padding-left:0;}.hRIHo{list-style-type:none;padding-left:0;}
/* sc-component-id: core__InlineListItem-eqpeba-12 */
.hJIQXL{margin-right:16px;display:inline-block;} .hJIQXL:last-child{margin-right:0;} .hJIQXL::before{content:'â€¢';color:#d1d5db;margin-right:16px;} .hJIQXL:first-child::before{content:'';margin-right:0;}
/* sc-component-id: layout___StyledText-sc-1yov7wq-0 */
.bRzELH{padding-left:8px;padding-right:8px;font-size:16px;color:#ffffff;background-color:#000000;font-weight:700;border-radius:5px;box-shadow:3px 4px #3bc9db;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:box-shadow 200ms;transition:box-shadow 200ms;} .bRzELH:hover{box-shadow:5px 6px #3bc9db;} .bRzELH:active{box-shadow:2px 3px #3bc9db;}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-06a9210293dd0d2a2358.js"/><link as="script" rel="preload" href="/framework-d80f7338bc29523a5c3b.js"/><link as="script" rel="preload" href="/app-fcd7ff88a19f1bf11c6c.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-16a344fd9551feb818bd.js"/><link as="script" rel="preload" href="/21b0c71395f743ee87503268ff5f3f467b604f32-88a5d176af816359574b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-0d55bb857b27ef483d4e.js"/><link as="fetch" rel="preload" href="/page-data/blog/2019-08-10-deckgl-point-animation/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="core__Box-eqpeba-0 core__Flex-eqpeba-1 dgrgPo"><a bg="black" color="white" px="2" font-size="1" font-weight="700" class="core__Box-eqpeba-0 core__Text-eqpeba-2 layout___StyledText-sc-1yov7wq-0 bRzELH" href="/">Peter Beshai</a></div><div class="core__Box-eqpeba-0 lcczCA"><h2 font-size="4" font-weight="bold" font-family="header" color="gray.8" letter-spacing="-0.01em" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__Header-eqpeba-3 liYjay">Animating points on maps with deck.gl</h2><ul color="gray.6" class="core__Box-eqpeba-0 core__List-eqpeba-10 core__InlineList-eqpeba-11 cgJpCM"><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL">August 10, 2019</li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL">5 min read</li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://peterbeshai.com/deckgl-point-animation/" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Demo</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://github.com/pbeshai/deckgl-point-animation" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">GitHub</a></li></ul><div class="prose"><div><p>You&#x27;d think I&#x27;d be tired of <a href="https://peterbeshai.com/blog/2017-05-26-beautifully-animate-points-with-webgl-and-regl/" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">animating points</a> <a href="https://bocoup.com/blog/smoothly-animate-thousands-of-points-with-html5-canvas-and-d3" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">by now</a>, but it hasn&#x27;t gotten old for me yet. I recently had the opportunity at <a href="https://cortico.ai" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">work</a> to build some map-based animations for a video we were putting together and the first thing that came to mind was to use the excellent <a href="https://deck.gl" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">deck.gl</a> library from the <a href="https://vis.gl/" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Uber data vis team</a>.</p>
<p>I wanted to have a glitzy reveal of all 17,000+ public libraries in the US and ended up with the following:</p>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/e6eIWZVFr4o?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<p>This post will cover how to make something like that yourself.</p>
<ul>
<li><a href="https://peterbeshai.com/deckgl-point-animation/" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Demo</a></li>
<li><a href="https://github.com/pbeshai/deckgl-point-animation" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Source Code on GitHub</a></li>
</ul>
<h2>Basic point animation using transitions with ScatterplotLayer</h2>
<p>If you haven&#x27;t used deck.gl before, check out <a href="https://deck.gl/#/documentation/getting-started/using-standalone" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">the examples in their documentation</a> or view <a href="https://github.com/pbeshai/deckgl-point-animation" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">the code for this demo</a> for details on how to get started.</p>
<p>The first approach we&#x27;ll try for bringing animation to our map vis is to leverage the built-in support for <a href="https://deck.gl/#/documentation/deckgl-api-reference/layers/layer?section=transitions-object-optional-" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze"><code class="language-text">transitions</code></a>. Consider a basic <a href="https://deck.gl/#/documentation/deckgl-api-reference/layers/scatterplot-layer" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze"><code class="language-text">ScatterplotLayer</code></a>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#x27;points-layer&#x27;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> librariesData<span class="token punctuation">,</span>
  <span class="token function-variable function">getPosition</span><span class="token operator">:</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>position<span class="token punctuation">,</span> <span class="token comment">// [longitude, latitude] tuple</span>
  getFillColor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  getRadius<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This will render our libraries as a bunch of points colored <span style="color:rgb(60, 220, 255)">rgb(60, 220, 255)</span>, as shown below.</p>
<p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:700px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:56.57142857142857%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACO0lEQVQoz1WT3VLaUBSFeQgJSQgoFgJEICHJOSH8tKggiOhYHR0daTu2Tm/a6/YBetHHXl37RC96sZKQM3x77b12Su8OD5HmY6gsQ6o10jT5Xyo1iuMhkmGEIOgaKTlLYiQxxXs8HKJ3FKDkODaS0zPo41Oks/cGqrI3cFoUYTE1mSKZzNDtD9D02+j3e4iiEIqFUioOB9B5jpLreYjGU6jRiE5zKAEYqVfxmWd6tcHo5h7p2TmCfIpOqhG0fSTjMfTmEnr3gm5GYLVeR0KQ2C/+nBuwcSfORPMTqLsn6Psd0s/fET4+IyEgOtsgub7D6NcfDH7/hVWpFA5jzlBcmJkoumJVRag+WZjnbH0BffkRii6zhy/Idt+gv/6AYoHs0wv6zz/h1PfhOA5KdsVCuLrAiK2kHLpxxFbVZGLmJo71YgV1dQO1XEFvCd5cQW2voc+3ULePqDVbqJT34LhVAm0btYMGkuU59Id54VRmJ21L8vyt+F5gShyvtwWMI8joMGIx6dJ2XQJdpsxLxSqjHvSY9hIZnZlWpfVXoF6u6YaDZxcZXWUEjm4fMGDqLlsVU8KxpWXnlVyxLDQO9s2OCUx2y+wgw1EspAiMFmv05gv4gxDhbI5mFMMql+FWq3jjlCQZIYtlOWi1mmZBZXET2TEJajpDoxsUTqoeIXvwmj6OjpcmWYs5FHem3Gy14NVqBZSq79fRaDQw4OIKNOeSDwm2+QFIil7NI7Rq4J1oiH4YotPtwm+30fJ9/AMamlzAXZN95QAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img display="block" class="core__Box-eqpeba-0 core__Image-eqpeba-7 iZTvUI gatsby-resp-image-image" alt="ScatterplotLayer Libraries" title="ScatterplotLayer Libraries" src="/static/f98e4f9161723910129f460a7feead4f/f6cdf/scatterplotlayer1.png" srcSet="/static/f98e4f9161723910129f460a7feead4f/fe88d/scatterplotlayer1.png 175w, /static/f98e4f9161723910129f460a7feead4f/0c175/scatterplotlayer1.png 350w, /static/f98e4f9161723910129f460a7feead4f/f6cdf/scatterplotlayer1.png 700w, /static/f98e4f9161723910129f460a7feead4f/4cbff/scatterplotlayer1.png 1050w, /static/f98e4f9161723910129f460a7feead4f/684d2/scatterplotlayer1.png 1279w" sizes="(max-width: 700px) 100vw, 700px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p>
<p>Now if we want to animate the colors of the points, we can modify our layer props to include <code class="language-text">transitions</code> with <code class="language-text">getFillColor</code> specified:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> showLibraries <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#x27;points-layer&#x27;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> librariesData<span class="token punctuation">,</span>
  <span class="token function-variable function">getPosition</span><span class="token operator">:</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>position<span class="token punctuation">,</span>
  getFillColor<span class="token operator">:</span> showLibraries <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  getRadius<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  transitions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// transition with a duration of 3000ms</span>
    getFillColor<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>When we set <code class="language-text">showLibraries = true</code> and update deck.gl&#x27;s layers, we&#x27;ll get the following animation:</p>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/jCPY7PCuyio?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<p>We&#x27;re using the transitions shorthand here, which says when the <code class="language-text">getFillColor</code> value changes we should transition to the new value over 3000ms.</p>
<p><em>Note:</em> If you&#x27;re using a function to specify <code class="language-text">getFillColor</code>, you may also need to provide a value for <code class="language-text">updateTriggers</code> so deck.gl knows it needs to recompute the colors of each point:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  updateTriggers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// if showLibraries changes, recompute getFillColor for each point</span>
    getFillColor<span class="token operator">:</span> <span class="token punctuation">[</span>showLibraries<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If we want the points to grow into place in addition to the color tween, we can animate the radius by specifying <code class="language-text">getRadius</code> in the <code class="language-text">transitions</code> object.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ScatterplotLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">&#x27;points-layer&#x27;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> librariesData<span class="token punctuation">,</span>
    <span class="token function-variable function">getPosition</span><span class="token operator">:</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>position<span class="token punctuation">,</span>
    getFillColor<span class="token operator">:</span> showLibraries <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    getRadius<span class="token operator">:</span> showLibraries <span class="token operator">?</span> <span class="token number">5000</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    transitions<span class="token operator">:</span> <span class="token punctuation">{</span>
      getFillColor<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
      getRadius<span class="token operator">:</span> <span class="token punctuation">{</span>
        duration<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
        easing<span class="token operator">:</span> d3<span class="token punctuation">.</span>easeBackInOut<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This time we used the expanded transitions definition which allows us to set an <a href="https://easings.net" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">easing</a> for the animation to follow. The effect is shown below:</p>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/6uIMUvjT4zg?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<p>That was pretty easy! Thanks deck.gl, you&#x27;re the best. The effect is more noticeable with a bigger radius or higher resolution, but you get the idea.</p>
<p>That was cool and all, however often times things look even cooler if we can add a little delay to each point instead of having them all animate in at once. To solve that, we have to do something a bit more complex and use a custom layer.</p>
<h2>Add in point delay with a custom layer</h2>
<p>I&#x27;ve created a layer I call the <a href="https://github.com/pbeshai/deckgl-point-animation/blob/master/src/DelayedPointLayer.js" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze"><code class="language-text">DelayPointLayer</code></a> that allows you to render in points with delay specified by a function, similar to how <a href="https://github.com/d3/d3-transition" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">d3 transitions</a> work. I won&#x27;t cover the internals of how it works here, but please feel free to view <a href="https://github.com/pbeshai/deckgl-point-animation/blob/master/src/DelayedPointLayer.js" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">the source code</a> and tune it to your needs.</p>
<p>The <code class="language-text">DelayPointLayer</code> requires specifying three new properties on your point layer:</p>
<ul>
<li><strong>animationProgress</strong> How far through the animation you currently are (a value between 0 and 1). At 0, the animation has not started. At 1, all points are done animating.</li>
<li><strong>pointDuration</strong> How long a single point takes to animate as a proportion of the animation progress (a value between 0 and 1). A value of 0.25 means any given point will take 25% of the animation duration to completely animate (works best with linear easing on <code class="language-text">animationProgress</code>). The final point begins animating when <code class="language-text">animationProgress</code> is at <code class="language-text">1 - pointDuration</code>.</li>
<li><strong>getDelayFactor</strong> A function mapping from a data point to a value between 0 and 1 representing when this point should begin animating. A value of 0 means it will begin animating immediately and 1 means it will be the last point to animate.</li>
</ul>
<p>Let&#x27;s look at our library example:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// value between 0 and 1 representing animation progress</span>
<span class="token keyword">const</span> librariesAnimation <span class="token operator">=</span> <span class="token punctuation">{</span> enterProgress<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// create a scale that maps longitudinal values to values between 0 and 1</span>
<span class="token comment">// based on the min and max longitudes in the dataset.</span>
<span class="token keyword">const</span> longitudeDelayScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">extent</span><span class="token punctuation">(</span>librariesData<span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DelayedPointLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#x27;points-layer&#x27;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> librariesData<span class="token punctuation">,</span>
  <span class="token function-variable function">getPosition</span><span class="token operator">:</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>position<span class="token punctuation">,</span>
  getFillColor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  getRadius<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  radiusMinPixels<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>

  <span class="token comment">// specify how far we are through the animation (value between 0 and 1)</span>
  animationProgress<span class="token operator">:</span> librariesAnimation<span class="token punctuation">.</span>enterProgress<span class="token punctuation">,</span>

  <span class="token comment">// specify how long a point takes to completely animate as a</span>
  <span class="token comment">// proportion of the overall animation progress (value between 0 and 1)</span>
  pointDuration<span class="token operator">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span>

  <span class="token comment">// specify the delay factor for each point (value between 0 and 1)</span>
  <span class="token function-variable function">getDelayFactor</span><span class="token operator">:</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// the longitude scale means the points will animate in</span>
    <span class="token comment">// from right to left.</span>
    <span class="token function">longitudeDelayScale</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Now as we update <code class="language-text">enterProgress</code> to new values between 0 and 1 and tell deck.gl to update its layers, we will see our points animate in. A simple way to get <code class="language-text">enterProgress</code> to animate with regular updates is to use <a href="https://animejs.com" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">anime.js</a>:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> animation <span class="token operator">=</span> <span class="token function">anime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
  <span class="token comment">// animate values in this object</span>
  targets<span class="token operator">:</span> librariesAnimation<span class="token punctuation">,</span>
  <span class="token comment">// update this property to have value 1</span>
  enterProgress<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// each tick, update the deck.gl layers with new values</span>
    <span class="token comment">// see full source code for details</span>
    <span class="token function">updateDeckLayers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/32mw1DUmoNU?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<p>There&#x27;s plenty of other modifications you can do with the <code class="language-text">DelayPointLayer</code> and I tend to just edit the shader for whatever I am currently looking to do on an ad-hoc basis. I encourage you to do the same! Or even better, make it more robust and release it as a reusable component for everyone to enjoy :)</p>
<h3>Bonus: make things look fancy with additive blending</h3>
<p>Now to really make our points pop, we can dip into the wonderful world of blending. Additive blending is when overlapping colors have their RGB values added together to determine the color that is shown on screen. This results in brighter regions when points are close together and can sometimes feel like a nice glow effect (although typically glows use blurring in addition to this).</p>
<p>Luckily, it doesn&#x27;t take much to turn on additive blending in deck.gl, we just provide some parameters to our layer:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token constant">GL</span> <span class="token keyword">from</span> <span class="token string">&#x27;@luma.gl/constants&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> librariesLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DelayedPointLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  parameters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// prevent flicker from z-fighting</span>
    <span class="token punctuation">[</span><span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">DEPTH_TEST</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

    <span class="token comment">// turn on additive blending to make them look more glowy</span>
    <span class="token punctuation">[</span><span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">BLEND</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">BLEND_SRC_RGB</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">ONE</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">BLEND_DST_RGB</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">ONE</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">BLEND_EQUATION</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">GL</span><span class="token punctuation">.</span><span class="token constant">FUNC_ADD</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/5HtTSbqxt-Y?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<p>Boom, roasted.</p>
<h2>What&#x27;s next?</h2>
<p>After you get your fix animating points, maybe you&#x27;ll move on to animating the <a href="https://deck.gl/#/documentation/deckgl-api-reference/layers/arc-layer" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze"><code class="language-text">ArcLayer</code></a>. <a href="https://github.com/uber/deck.gl/issues/2531#issuecomment-450475596" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">There&#x27;s a great starting point here</a>. I ended up using something similar to produce the following video:</p>
<p></p><div class="gatsby-resp-iframe-wrapper" style="padding-bottom:56.42857142857143%;position:relative;height:0;overflow:hidden"> <div class="embedVideo-container"> <iframe title="" src="https://www.youtube.com/embed/6P4XQcnNTAo?rel=0" class="embedVideo-iframe" style="border:0;position:absolute;top:0;left:0;width:100%;height:100%" allowfullscreen=""></iframe> </div> </div><p></p>
<h2>Wrapping up</h2>
<p>Thanks for reading! Hopefully you now have an idea of how to begin animating with <a href="https://deck.gl" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">deck.gl</a>. To finish up the videos I made, I saved my animations using <a class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze" href="/blog/2018-10-28-p5js-ccapture/">CCapture.js</a> and added some glow to them in After Effects. If you make something after reading this, I&#x27;d love to see itâ€” find me  as <a href="https://twitter.com/pbesh" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">@pbesh</a> on Twitter.</p>
<ul>
<li><a href="https://github.com/pbeshai/deckgl-point-animation" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Source Code on GitHub</a></li>
<li><a href="https://peterbeshai.com/deckgl-point-animation/" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Demo</a></li>
</ul>
<p>Have a great day!</p></div></div><div class="core__Box-eqpeba-0 gofAlC"><div shortname="peter-beshai" config="[object Object]" id="disqus_thread"></div></div></div><div class="core__Box-eqpeba-0 krNbLw"><div class="core__Box-eqpeba-0 core__Text-eqpeba-2 gQsBqH"><ul class="core__Box-eqpeba-0 core__List-eqpeba-10 core__InlineList-eqpeba-11 hRIHo"><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="mailto:peter.beshai@gmail.com" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">peter.beshai@gmail.com</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://twitter.com/pbesh" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Twitter</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://twitch.tv/pbeshai" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Twitch</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://github.com/pbeshai" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">GitHub</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://instagram.com/pbeshasketch" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">Instagram</a></li><li class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__InlineListItem-eqpeba-12 hJIQXL"><a href="https://www.linkedin.com/in/pbeshai" class="core__Box-eqpeba-0 core__Text-eqpeba-2 core__StyledLink-eqpeba-5 eiraze">LinkedIn</a></li></ul></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-55938435-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2019-08-10-deckgl-point-animation/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b540199392df4ae4b2b3.js"],"app":["/app-fcd7ff88a19f1bf11c6c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c2832438e0b6a94d149f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-9fd4d7b2f08ac5830f3c.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-0d55bb857b27ef483d4e.js"],"component---src-templates-demo-js":["/component---src-templates-demo-js-86292a96b849eb84e1cf.js"]};/*]]>*/</script><script src="/polyfill-b540199392df4ae4b2b3.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-0d55bb857b27ef483d4e.js" async=""></script><script src="/21b0c71395f743ee87503268ff5f3f467b604f32-88a5d176af816359574b.js" async=""></script><script src="/commons-16a344fd9551feb818bd.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-fcd7ff88a19f1bf11c6c.js" async=""></script><script src="/framework-d80f7338bc29523a5c3b.js" async=""></script><script src="/webpack-runtime-06a9210293dd0d2a2358.js" async=""></script></body></html>